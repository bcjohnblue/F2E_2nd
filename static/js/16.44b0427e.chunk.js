(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{626:function(e,t,a){e.exports={reservation:"Reservation_reservation__15i3W",left:"Reservation_left__YQTm8",room_name:"Reservation_room_name__226cp",right:"Reservation_right__39iN_",title:"Reservation_title__L_P4l",form:"Reservation_form__zlLZe",price_container:"Reservation_price_container__3_QN9",item:"Reservation_item__2XgxL",total:"Reservation_total__23ve0",button:"Reservation_button__2Nrmn"}},627:function(e,t,a){e.exports={input:"Input_input__3UHpn"}},628:function(e,t,a){e.exports={button:"CustomDialog_button__23pFR"}},699:function(e,t,a){"use strict";a.r(t);var n=a(113),r=a.n(n),l=a(8),o=a(114),c=a(72),i=a(0),s=a.n(i),u=a(626),m=a.n(u),d=a(70),f=a(67),p=a.n(f),v=a(627),g=a.n(v),b=function(e){var t=e.name,a=e.value,n=e.setValue;return s.a.createElement("div",{className:g.a.input},s.a.createElement("div",null,t),s.a.createElement("input",{type:"text",value:a,onChange:function(e){n(e.target.value)}}))},h=a(628),E=a.n(h),_=a(9);function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function y(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var C=s.a.createElement("title",null,"ant-design:check-circle-outline"),j=s.a.createElement("desc",null,"Created with Sketch."),x=s.a.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},s.a.createElement("g",{id:"success",transform:"translate(-485.000000, -515.000000)",fillRule:"nonzero"},s.a.createElement("g",{id:"ant-design:check-circle-outline",transform:"translate(482.000000, 512.000000)"},s.a.createElement("g",{id:"Icon",transform:"translate(3.000000, 3.000000)",fill:"#4F9B3F"},s.a.createElement("path",{d:"M37.9570312,17.6835938 L35.2089844,17.6835938 C34.6113281,17.6835938 34.0429687,17.9707031 33.6914062,18.4628906 L24.4804687,31.2363281 L20.3085937,25.4472656 C19.9570312,24.9609375 19.3945312,24.6679688 18.7910156,24.6679688 L16.0429687,24.6679688 C15.6621094,24.6679688 15.4394531,25.1015625 15.6621094,25.4121094 L22.9628906,35.5371094 C23.3128038,36.0254948 23.87674,36.3151915 24.4775391,36.3151915 C25.0783381,36.3151915 25.6422743,36.0254948 25.9921875,35.5371094 L38.3320312,18.4277344 C38.5605469,18.1171875 38.3378906,17.6835938 37.9570312,17.6835938 Z",id:"Icon-Path"}),s.a.createElement("path",{d:"M27,0.75 C12.5039063,0.75 0.75,12.5039063 0.75,27 C0.75,41.4960938 12.5039063,53.25 27,53.25 C41.4960938,53.25 53.25,41.4960938 53.25,27 C53.25,12.5039063 41.4960938,0.75 27,0.75 Z M27,48.796875 C14.9648438,48.796875 5.203125,39.0351562 5.203125,27 C5.203125,14.9648438 14.9648438,5.203125 27,5.203125 C39.0351562,5.203125 48.796875,14.9648438 48.796875,27 C48.796875,39.0351562 39.0351562,48.796875 27,48.796875 Z",id:"Icon-Shape"})),s.a.createElement("rect",{id:"ViewBox",x:0,y:0,width:60,height:60})))),w=function(e){var t=e.svgRef,a=y(e,["svgRef"]);return s.a.createElement("svg",O({width:"54px",height:"54px",viewBox:"0 0 54 54",ref:t},a),C,j,x)},R=s.a.forwardRef(function(e,t){return s.a.createElement(w,O({svgRef:t},e))});a.p;function N(){return(N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function k(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var S=s.a.createElement("title",null,"ic-baseline-error-outline"),P=s.a.createElement("desc",null,"Created with Sketch."),L=s.a.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},s.a.createElement("g",{id:"false",transform:"translate(-487.000000, -541.000000)",fillRule:"nonzero"},s.a.createElement("g",{id:"ic-baseline-error-outline",transform:"translate(482.000000, 536.000000)"},s.a.createElement("g",{id:"Icon",transform:"translate(5.000000, 5.000000)",fill:"#DA4545"},s.a.createElement("path",{d:"M22.5,32.5 L27.5,32.5 L27.5,37.5 L22.5,37.5 L22.5,32.5 Z M22.5,12.5 L27.5,12.5 L27.5,27.5 L22.5,27.5 L22.5,12.5 Z M24.975,0 C11.175,0 0,11.2 0,25 C0,38.8 11.175,50 24.975,50 C38.8,50 50,38.8 50,25 C50,11.2 38.8,0 24.975,0 Z M25,45 C13.95,45 5,36.05 5,25 C5,13.95 13.95,5 25,5 C36.05,5 45,13.95 45,25 C45,36.05 36.05,45 25,45 Z",id:"Icon-Shape"})),s.a.createElement("rect",{id:"ViewBox",x:0,y:0,width:60,height:60})))),D=function(e){var t=e.svgRef,a=k(e,["svgRef"]);return s.a.createElement("svg",N({width:"50px",height:"50px",viewBox:"0 0 50 50",ref:t},a),S,P,L)},M=s.a.forwardRef(function(e,t){return s.a.createElement(D,N({svgRef:t},e))}),I=(a.p,a(84)),B=a(694),z=a(703),Y=a(688),F=a(689),T=a(697),Z=a(112),A=a(71),U=Object(_.e)(function(e){var t=e.open,a=e.setOpen,n=e.isSuccess,r=e.history,l=Object(I.a)(function(){return{root:{"& .MuiPaper-root":{width:"600px"}}}})(function(e){var a=e.children,n=e.classes,r=e.onClose;return s.a.createElement(B.a,{onClose:r,"aria-labelledby":"customized-dialog-title",open:t,className:n.root,maxWidth:"lg",disableBackdropClick:!0},a)}),o=Object(I.a)(function(e){return{root:{margin:0,padding:e.spacing(2),height:e.spacing(8)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}})(function(e){var t=e.classes,a=e.onClose;return s.a.createElement(z.a,{disableTypography:!0,className:t.root},a?s.a.createElement(T.a,{"aria-label":"close",className:t.closeButton,onClick:a},s.a.createElement(Z.a,{icon:A.t})):null)}),c=Object(I.a)(function(e){return{root:{textAlign:"center","& .title":{fontFamily:"AndaleMono",fontSize:"30px",color:"#4C5356",lineHeight:"34px",marginBottom:"20px",letterSpacing:"2px"},"& .sub_title":{fontFamily:"AndaleMono",fontSize:"20px",color:"#4C5356",letterSpacing:"2px",marginBottom:"20px"}}}})(Y.a),i=Object(I.a)(function(e){return{root:{margin:0,padding:e.spacing(1)}}})(F.a),u=function(){a(!1)},m=s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"title"},"Success!"),s.a.createElement("div",{className:"sub_title"},"Have a nice trip :)"),s.a.createElement(R,{style:{zoom:.8}})),d=s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"title"},"Oops !"),s.a.createElement("div",{className:"sub_title"},"The room has been booked.",s.a.createElement("br",null),"Please choose another room."),s.a.createElement(M,{style:{zoom:.8}}));return s.a.createElement(l,{onClose:u,"aria-labelledby":"customized-dialog-title",open:t},s.a.createElement(o,{id:"customized-dialog-title",onClose:u},"Modal title"),s.a.createElement(c,null,n?m:d),s.a.createElement(i,null,s.a.createElement("div",{className:E.a.button,onClick:function(){r.push("/hotel")}},n?"Check out the order":"Back")))}),V=a(285);t.default=function(e){document.title="\u8a02\u623f\u9810\u7d04";var t=e.location.search,a=function(){var e=new URLSearchParams(t),a={},n=!0,r=!1,l=void 0;try{for(var o,i=function(){var e=o.value,t=Object(c.a)(e,2),n=t[0],r=t[1];"date"===n&&(r=JSON.parse(r),Object.keys(r).map(function(e){r[e]=p()(r[e])})),a[n]=r},s=e[Symbol.iterator]();!(n=(o=s.next()).done);n=!0)i()}catch(u){r=!0,l=u}finally{try{n||null==s.return||s.return()}finally{if(r)throw l}}return a}(),n=Object(i.useState)({name:"",imageUrl:[]}),u=Object(c.a)(n,2),f=u[0],v=u[1];Object(i.useEffect)(function(){Object(o.a)(r.a.mark(function e(){var t;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,window.callRoomAPI.get("room/".concat(a.id));case 3:t=e.sent,console.log(t.data.room[0]),v(Object(l.a)({},f,t.data.room[0])),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}},e,null,[[0,8]])}))()},[]);var g=Object(i.useState)(""),h=Object(c.a)(g,2),E=h[0],_=h[1],O=Object(i.useState)(""),y=Object(c.a)(O,2),C=y[0],j=y[1],x=Object(i.useState)({start:a.date.start,end:a.date.end}),w=Object(c.a)(x,2),R=w[0],N=w[1],k=Object(i.useState)(null),S=Object(c.a)(k,2),P=S[0],L=S[1],D=Object(i.useState)(!1),M=Object(c.a)(D,2),I=M[0],B=M[1],z=Object(i.useState)(!1),Y=Object(c.a)(z,2),F=Y[0],T=Y[1],Z=R.end&&R.end.diff(R.start)/1e3/3600/24*f.normalDayPrice,A=function(){var e=Object(o.a)(r.a.mark(function e(){var t,n,l;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=function(){var e=!0;if(E||(e=!1),C||(e=!1),!e)return window.alert("\u8acb\u8f38\u5165\u8cc7\u6599"),Promise.reject(!1)},n=function(){var e=R.start.format("YYYY-MM-DD"),t=R.end.format("YYYY-MM-DD");return{name:E,tel:C,date:{start:e,end:t}}}(),console.log(n),e.prev=3,e.next=6,t();case 6:return e.next=8,window.callRoomAPI.post("room/".concat(a.id),n);case 8:l=e.sent,console.log(l),T(l.data.success),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),!1!==e.t0&&(console.log(e.t0),T(!1));case 16:B(!0);case 17:case"end":return e.stop()}},e,null,[[3,13]])}));return function(){return e.apply(this,arguments)}}();return s.a.createElement("div",{className:m.a.reservation},s.a.createElement("div",{className:m.a.left},s.a.createElement("div",{className:m.a.room_name},f.name),f.imageUrl[0]?s.a.createElement("img",{src:f.imageUrl[0],alt:"room"}):null),s.a.createElement("div",{className:m.a.right},s.a.createElement("div",{className:m.a.title},"Your Reservation"),s.a.createElement("div",{className:m.a.form},s.a.createElement(b,{name:"Name",value:E,setValue:_}),s.a.createElement(b,{name:"Phone",value:C,setValue:j}),s.a.createElement(V.DateRangePicker,{startDate:R.start,startDateId:"your_unique_start_date_id",endDate:R.end,endDateId:"your_unique_end_date_id",onDatesChange:function(e){var t=e.startDate,a=e.endDate;N({start:t,end:a})},focusedInput:P,onFocusChange:function(e){L(e)}}),s.a.createElement("div",{className:m.a.price_container},s.a.createElement("div",{className:m.a.item},s.a.createElement("span",null,"Room"),s.a.createElement("span",null,"NT$ ",f.normalDayPrice)),s.a.createElement("div",{className:m.a.item},s.a.createElement("span",null,"Tax"),s.a.createElement("span",null,"NT$ ",138)),s.a.createElement("div",{className:Object(d.a)(m.a.total,m.a.item)},s.a.createElement("span",null,"Total"),s.a.createElement("span",null,"NT$ ",Z)),s.a.createElement("div",{className:m.a.button,onClick:A},"Confirm")))),s.a.createElement(U,{open:I,setOpen:B,isSuccess:F}))}}}]);
//# sourceMappingURL=16.44b0427e.chunk.js.map