{"version":3,"sources":["projects/Hotel/pages/RoomDetail/RoomDetail.module.sass","projects/Hotel/pages/RoomDetail/iconList.jsx","projects/Hotel/pages/RoomDetail/RoomDetail.jsx"],"names":["module","exports","room_detail","room_img","container","left_container","header","name","description","time","utility","item","active","right_container","price_container","button","iconList","icon","faGlassMartiniAlt","faWifi","faSmoking","faFan","faConciergeBell","faCouch","faDog","faBinoculars","faPhoneAlt","faCoffee","faBuilding","faChild","RoomDetail","props","document","title","id","match","params","_useState","useState","descriptionShort","Bed","checkInAndOut","amenities","imageUrl","_useState2","Object","slicedToArray","roomDetail","setRoomDetail","_useState3","start","end","_useState4","date","setDate","_useState5","_useState6","focusedInput","setFocusedInput","isOutsideRange","Date","normalDayPrice","holidayPrice","totalPrice","diff","useEffect","asyncToGenerator","regenerator_default","a","mark","_callee","res","wrap","_context","prev","next","window","callRoomAPI","get","concat","sent","console","log","data","room","objectSpread","t0","stop","swiperDOM","react_default","createElement","lib_default","assign","pagination","el","clickable","shouldSwiperUpdate","map","url","index","src","alt","key","className","styles","detailDOM","iconDOM","clsx","index_es","faUser","GuestMax","faBed","faBath","faVectorSquare","Footage","style","verticalAlign","fontSize","checkInEarly","checkInLate","checkOut","react_dates","startDate","endDate","onDatesChange","_ref2","onFocusChange","react_router_dom","to","pathname","JSON","stringify"],"mappings":"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","file":"static/js/22.dc0e6a51.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"room_detail\":\"RoomDetail_room_detail__2Z3Vg\",\"room_img\":\"RoomDetail_room_img__3bWsT\",\"container\":\"RoomDetail_container___9eNt\",\"left_container\":\"RoomDetail_left_container__M6PCY\",\"header\":\"RoomDetail_header__3wgjd\",\"name\":\"RoomDetail_name__25ZVB\",\"description\":\"RoomDetail_description__P7iRs\",\"time\":\"RoomDetail_time__2c_gl\",\"utility\":\"RoomDetail_utility__2wbMg\",\"item\":\"RoomDetail_item__B2pBj\",\"active\":\"RoomDetail_active__3rkGV\",\"right_container\":\"RoomDetail_right_container__1fSWJ\",\"price_container\":\"RoomDetail_price_container__1frbH\",\"button\":\"RoomDetail_button__2RC0x\"};","import { faGlassMartiniAlt } from '@fortawesome/free-solid-svg-icons';\r\nimport { faWifi } from '@fortawesome/free-solid-svg-icons';\r\nimport { faSmoking } from '@fortawesome/free-solid-svg-icons';\r\nimport { faFan } from '@fortawesome/free-solid-svg-icons';\r\nimport { faConciergeBell } from '@fortawesome/free-solid-svg-icons';\r\nimport { faCouch } from '@fortawesome/free-solid-svg-icons';\r\nimport { faDog } from '@fortawesome/free-solid-svg-icons';\r\nimport { faBinoculars } from '@fortawesome/free-solid-svg-icons';\r\nimport { faPhoneAlt } from '@fortawesome/free-solid-svg-icons';\r\nimport { faCoffee } from '@fortawesome/free-solid-svg-icons';\r\nimport { faBuilding } from '@fortawesome/free-solid-svg-icons';\r\nimport { faChild } from '@fortawesome/free-solid-svg-icons';\r\n\r\nexport default [\r\n  {\r\n    icon: faGlassMartiniAlt,\r\n    name: 'Mini-Bar'\r\n  },\r\n  {\r\n    icon: faWifi,\r\n    name: 'Wi-Fi'\r\n  },\r\n  {\r\n    icon: faSmoking,\r\n    name: 'Smoke-Free'\r\n  },\r\n  {\r\n    icon: faFan,\r\n    name: 'Air-Conditioner'\r\n  },\r\n  {\r\n    icon: faConciergeBell,\r\n    name: 'Room-Service'\r\n  },\r\n  {\r\n    icon: faCouch,\r\n    name: 'Sofa'\r\n  },\r\n  {\r\n    icon: faDog,\r\n    name: 'Pet-Friendly'\r\n  },\r\n  {\r\n    icon: faBinoculars,\r\n    name: 'Great-View'\r\n  },\r\n  {\r\n    icon: faPhoneAlt,\r\n    name: 'Television'\r\n  },\r\n  {\r\n    icon: faCoffee,\r\n    name: 'Breakfast'\r\n  },\r\n  {\r\n    icon: faBuilding,\r\n    name: 'Refrigerator'\r\n  },\r\n  {\r\n    icon: faChild,\r\n    name: 'Child-Friendly'\r\n  }\r\n];\r\n","import React from 'react';\r\nimport { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport styles from './RoomDetail.module.sass';\r\nimport clsx from 'clsx';\r\n\r\nimport Swiper from 'react-id-swiper';\r\n\r\nimport 'react-dates/initialize';\r\nimport 'react-dates/lib/css/_datepicker.css';\r\nimport { DayPickerRangeController } from 'react-dates';\r\n\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faUser } from '@fortawesome/free-solid-svg-icons';\r\nimport { faBed } from '@fortawesome/free-solid-svg-icons';\r\nimport { faBath } from '@fortawesome/free-solid-svg-icons';\r\nimport { faVectorSquare } from '@fortawesome/free-solid-svg-icons';\r\n\r\nimport iconList from './iconList';\r\n\r\nconst RoomDetail = props => {\r\n  document.title = '房間詳細資訊';\r\n\r\n  const {\r\n    match: {\r\n      params: { id }\r\n    }\r\n  } = props;\r\n\r\n  const [roomDetail, setRoomDetail] = useState({\r\n    descriptionShort: {\r\n      Bed: []\r\n    },\r\n    checkInAndOut: {},\r\n    amenities: {},\r\n    imageUrl: []\r\n  });\r\n  const [date, setDate] = useState({\r\n    start: null,\r\n    end: null\r\n  });\r\n  const [focusedInput, setFocusedInput] = useState('startDate');\r\n  const isOutsideRange = date => {\r\n    return new Date() - new Date(date) > 0;\r\n  };\r\n\r\n  const {\r\n    name,\r\n    descriptionShort,\r\n    description,\r\n    checkInAndOut,\r\n    normalDayPrice,\r\n    holidayPrice,\r\n    amenities\r\n  } = roomDetail;\r\n  const roomTax = 138;\r\n  const totalPrice =\r\n    date.end && (date.end.diff(date.start) / 1000 / 3600 / 24) * normalDayPrice;\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        const res = await window.callRoomAPI.get(`room/${id}`);\r\n        console.log(res.data.room[0]);\r\n        setRoomDetail({ ...roomDetail, ...res.data.room[0] });\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    })();\r\n  }, []);\r\n\r\n  const swiperDOM = (() => {\r\n    const params = {\r\n      pagination: {\r\n        el: '.swiper-pagination',\r\n        clickable: true\r\n      }\r\n    };\r\n\r\n    return (\r\n      <Swiper {...params} shouldSwiperUpdate={true}>\r\n        {roomDetail.imageUrl.map((url, index) => {\r\n          return (\r\n            <img src={url} alt=\"room\" key={index} className={styles.room_img} />\r\n          );\r\n        })}\r\n      </Swiper>\r\n    );\r\n  })();\r\n  const detailDOM = (() => {\r\n    const iconDOM = (() => {\r\n      return iconList.map(item => {\r\n        const { icon, name } = item;\r\n\r\n        return (\r\n          <span\r\n            className={clsx(styles.item, amenities[name] && styles.active)}\r\n            key={name}\r\n          >\r\n            <FontAwesomeIcon icon={icon} />\r\n            {name}\r\n          </span>\r\n        );\r\n      });\r\n    })();\r\n\r\n    return (\r\n      <div className={styles.container}>\r\n        <div className={styles.left_container}>\r\n          <div className={styles.header}>\r\n            <span className={styles.name}>{name}</span>\r\n            <br />\r\n            <FontAwesomeIcon icon={faUser} />\r\n            <span>{descriptionShort.GuestMax}</span>\r\n            <FontAwesomeIcon icon={faBed} />\r\n            <span>{descriptionShort.Bed[0]}</span>\r\n            <FontAwesomeIcon icon={faBath} />\r\n            <span>{descriptionShort.Bed[0]}</span>\r\n            <FontAwesomeIcon icon={faVectorSquare} />\r\n            <span>{descriptionShort.Footage} m</span>\r\n            <span style={{ verticalAlign: 'super', fontSize: '12px' }}>2</span>\r\n          </div>\r\n          <div className={styles.description}>{description}</div>\r\n          <div className={styles.time}>\r\n            <div>\r\n              Check-in: {checkInAndOut.checkInEarly} ~{' '}\r\n              {checkInAndOut.checkInLate} / Check-out: {checkInAndOut.checkOut}\r\n            </div>\r\n            <div>\r\n              Weekday(Mon - Thu): ${normalDayPrice} / Weekend(Fri - Sun): $\r\n              {holidayPrice}\r\n            </div>\r\n          </div>\r\n          <div className={styles.utility}>{iconDOM}</div>\r\n        </div>\r\n        <div className={styles.right_container}>\r\n          <DayPickerRangeController\r\n            startDate={date.start}\r\n            endDate={date.end}\r\n            onDatesChange={({ startDate: start, endDate: end }) => {\r\n              setDate({ start, end });\r\n            }}\r\n            focusedInput={focusedInput}\r\n            onFocusChange={focusedInput => {\r\n              setFocusedInput(!focusedInput ? 'startDate' : focusedInput);\r\n            }}\r\n            isOutsideRange={isOutsideRange}\r\n          />\r\n          <div className={styles.price_container}>\r\n            <div>Room NT$ {normalDayPrice}</div>\r\n            <div>Tax NT$ {roomTax}</div>\r\n            <div>Total NT$ {totalPrice}</div>\r\n            <Link\r\n              to={{\r\n                pathname: `/hotel/reservation?id=${id}&date=${JSON.stringify(\r\n                  date\r\n                )}`\r\n              }}\r\n            >\r\n              <div className={styles.button}>Order</div>\r\n            </Link>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  })();\r\n\r\n  return (\r\n    <div className={styles.room_detail}>\r\n      {swiperDOM}\r\n      {roomDetail.id ? detailDOM : null}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RoomDetail;\r\n"],"sourceRoot":""}